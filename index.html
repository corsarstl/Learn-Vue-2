<!DOCTYPE html>
<html lang="en" xmlns:v-on="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <style type="text/css">
        .color-red { color: red; }
        .color-green { color: green; }
        .is-loading { background: green;}
    </style>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">
</head>
<body>

<div class="container">
    <div id="root">
        <!--<input type="text" id="input" v-model="message">-->

        <!--<p>Message: {{ message }}</p>-->
        <div>
            <ul>
                <li v-for="name in names" v-text="name"></li>
            </ul>

            <input type="text" id="input" v-model="newName">

            <button @click="addName">Add name</button> <!--"@click" shorthand for "v-on:click"-->
        </div>

        <hr>

        <div>
            <button :title="title">Hover over me</button> <!--":title" shorthand for "v-bind:title"-->
        </div>

        <hr>

        <button :class="{ 'is-loading': isLoading }" @click="toggleClass">some text here</button>

        <hr>

        <!--<h1 v-text="new Date()"></h1>-->

        <h1>
            {{ reversedTitle }}
        </h1>

        <hr>

        <div>
            <h2>All tasks</h2>

            <ul>
                <li v-for="task in tasks">
                    {{ task.description}}
                    <button v-text="buttonTitle(task)" @click="toggleCompletion(task)"></button>
                </li>
            </ul>
        </div>

        <div class="row">
            <div class="col-md-8">
                <div>
                    <h2>Incompleted tasks</h2>

                    <ul>
                        <li v-for="task in incompletedTasks"
                            class="color-red">
                            {{ task.description}}
                            <button v-text="buttonTitle(task)" @click="toggleCompletion(task)"></button>
                        </li>

                        <li v-if="incompletedTasksCount == 0">Well done, dude!</li>
                    </ul>
                </div>

                <div>
                    <h2>Completed tasks</h2>

                    <ul>
                        <li v-for="task in completedTasks"
                            class="color-green">
                            {{ task.description}}
                            <button v-text="buttonTitle(task)" @click="toggleCompletion(task)"></button>
                        </li>

                        <li v-if="completedTasksCount == 0">Get back to work, man!</li>
                    </ul>
                </div>
            </div>

            <div class="col-md-4">
                <h1 class="color-green">Completed Tasks Count: {{ completedTasksCount }}</h1>
                <h1 class="color-red">Incompleted Tasks Count: {{ incompletedTasksCount }}</h1>
            </div>
        </div>

    </div>
</div>


<script src="https://cdn.jsdelivr.net/npm/vue@2.5.16/dist/vue.js"></script>

<script>
    let app = new Vue({
        el: '#root',

        data: {
            title: 'The title is set through JS',
            newName: '',
            names: ['Vilgefortz', 'Dandellion', 'Geralt', 'Zirael'],
            className: 'color-red',
            isLoading: false,
            tasks: [
                { description: 'Task 1', completed: true },
                { description: 'Task 2', completed: false },
                { description: 'Task 3', completed: true },
                { description: 'Task 4', completed: false },
                { description: 'Task 5', completed: false },
                { description: 'Task 6', completed: true }
            ],
            completedTasksCount: 3,
            incompletedTasksCount: 3
        },

        methods: {
            addName() {
                this.names.push(this.newName);

                this.newName = '';
            },

            toggleClass() {
                this.isLoading = ! this.isLoading;
            },

            buttonTitle(task) {
                return task.completed ? 'Undo' : 'Do';
            },

            toggleCompletion(task) {
                task.completed = ! task.completed;

                task.completed ? this.completeTask() : this.incompleteTask();
            },

            completeTask() {
                this.completedTasksCount++;
                this.incompletedTasksCount--;
            },

            incompleteTask() {
                this.completedTasksCount--;
                this.incompletedTasksCount++;
            }
        },

        computed: {
            reversedTitle() {
                return this.title.split('').reverse().join('');
            },

            incompletedTasks() {
                return this.tasks.filter(task => ! task.completed);
            },

            completedTasks() {
                return this.tasks.filter(task => task.completed);
            },
        }
    });
</script>
</body>
</html>